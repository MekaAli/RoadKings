<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Voiture List</title>
    <link rel="stylesheet" th:href="@{/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>
<body>
    <h1>List of Voitures</h1>
    <a href="/voitures/add" style="text-decoration: none;">
        <i class="fa fa-plus-circle" style="font-size: 300%;padding-left: 90%; color: green; cursor: pointer;"></i>
    </a>
        <table>
        <thead>
            <tr>
                <th>Model Name</th>
                <th>Description</th>
                <th>Marque</th>
                <th>Base Price</th>
                <th>Energie</th>
                <th>Images</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="voiture : ${voitures}">
                <td th:text="${voiture.modelName}"></td>
                <td th:text="${voiture.description}"></td>
                <td th:text="${voiture.marque}"></td>
                <td th:text="${voiture.basePrice}"></td>
                <td th:text="${voiture.energie}"></td>
                
                <!-- Display images of the voiture -->
                <td>
                    <div th:each="image : ${voiture.voiture_images}">
                        <img th:src="@{${image.imageUrl}}" alt="Voiture image" width="100" height="auto"/>
                    </div>
                </td>
                
                <td>
                    <a href="#" th:href="@{/voitures/edit/{id}(id=${voiture.idVoiture})}" style="text-decoration: none;">
                        <i class="fa fa-edit" style="font-size: 20px; color: blue; cursor: pointer;" title="Edit Voiture"></i>
                    </a>                                        
                    <a href="#" th:href="@{/voitures/delete/{id}(id=${voiture.idVoiture})}" 
                        onclick="return confirm('Are you sure you want to delete this voiture?')" 
                        style="text-decoration: none;">
                        <i class="fa fa-trash" style="font-size: 20px; color: red; cursor: pointer;" title="Delete Voiture"></i>
                    </a>
                    
                </td>
                
            </tr>
        </tbody>
    </table>
</body>
</html>
